<script>
	function refresh_guess(){
		
	}
	$(function(){
		setInterval(function(){
			$.get("guessed", { id: <%= @guess_activity.id %>}, function(data){
				$("#test-ajax").html(data.string);
			});
		}, 1000);
	});
</script>
<div class="page-header">
	<% if @guess_activity.status == "finished" %>
		<h1><%= @word.word %><small><%= @word.property %></small></h1>
	<% else %>
		<h1><%= @word.length %> Letter(s)<small><%= @word.property %></small></h1>
	<% end %>
</div>
<ul class="list-group">
	<% @old_guesses.each do |guess| %> 
		<% if guess.judge == "new" %>
			<li class="list-group-item list-group-item-info"><span class="glyphicon glyphicon-time"></span><%= guess.content %></li>
		<% elsif guess.judge == "true" %>
			<li class="list-group-item list-group-item-success"><span class="glyphicon glyphicon-thumbs-up"></span><%= guess.content %></li>
		<% elsif guess.judge == "false" %>
			<li class="list-group-item list-group-item-danger"><span class="glyphicon glyphicon-thumbs-down"></span><%= guess.content %></li>
		<% elsif guess.judge == "guess_right" %>
			<li class="list-group-item list-group-item-success"><span class="glyphicon glyphicon-ok-sign"></span><%= guess.content %></li>
		<% else %>
			<li class="list-group-item list-group-item-warning"><span class="glyphicon glyphicon-trash"</span><%= guess.content %></li>
		<% end %>
	<% end %>
</ul>


<%= form_tag(do_guess_path, method: "post") do %>
	<div class="form-group">
		<%= text_field_tag "guess_content", nil, placeholder: "New Guess", class: "form-control" %>
	</div>
	<%= hidden_field_tag :id, @guess_activity.id %>
	<%= hidden_field_tag :word_id, @word.id %>
	<% if not @guess_to_judge.nil? %>
		<%= hidden_field_tag :guess_to_judge_id, @guess_to_judge.id %>
		<ul class="list-group">
			<li class="list-group-item">
			<h3><%= @word_of_guess_to_judge.word %><small><%= @word_of_guess_to_judge.property%></small></h3>
			</li>
			<li class="list-group-item"><%= @guess_to_judge.content %></li>
			<li class="list-group-item">
			<div class="input_group">
				<%= radio_button_tag :judge, :true, false %>True<br>
				<%= radio_button_tag :judge, :false, false %>False<br>
				<%= radio_button_tag :judge, :not_sure, false %>Not Sure<br>
				<%= radio_button_tag :judge, :guess_right, false %>Guess Right<br>
			</div>
			</li>
		</ul>
		<%= submit_tag("Guess & Judge", class: "btn btn-primary btn-lg") %>
	<% else %>
		<%= submit_tag("Guess", class: "btn btn-primary btn-lg") %>
	<% end %>
<% end %>


<div id="test-ajax">init</div>
